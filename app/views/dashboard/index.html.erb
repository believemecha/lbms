<div class="container mx-auto px-4">
  <h1 class="mt-5 text-3xl">Welcome <%=current_user.first_name%></h1>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
    <div class="col-span-1">
      <div class="bg-white rounded-md shadow-md p-4">
        <h5 class="font-bold text-lg">Total Calls</h5>
        <p><%= @total_calls %></p>
      </div>
    </div>

    <div class="col-span-1">
      <div class="bg-white rounded-md shadow-md p-4">
        <h5 class="font-bold text-lg">Total Call Duration</h5>
        <p><%= @total_duration %> seconds</p>
      </div>
    </div>

    <div class="col-span-1">
      <div class="bg-white rounded-md shadow-md p-4">
        <h5 class="font-bold text-lg">Average Call Duration</h5>
        <p><%= @average_duration %> seconds</p>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
    <div class="col-span-1">
      <div class="bg-white rounded-md shadow-md p-4">
        <h5 class="font-bold text-lg">Longest Call</h5>
        <p>
          <%= @longest_call.try(:duration) %> seconds, <%= @longest_call.try(:call_type) %>
          <br>
          with <%= @longest_call.try(:name) %> on <%= @longest_call.try(:call_start_time) %>
        </p>
      </div>
    </div>
  </div>

  <div class="mt-4 border border-gray-300 max-h-400 overflow-y-scroll">
    <p class="font-bold">Summary</p>
    <div class="bg-white p-2 my-1">
      <div class="flex justify-between">
        <div class="w-1/2">
          <h5>Person</h5>
        </div>
        <div class="w-1/2">
          <h5 class="text-black">Total Calls</h5>
        </div>
      </div>
    </div>
    <% @summary.each_with_index do |item,index| %>
      <div class="bg-white p-2 my-1">
        <div class="flex justify-between">
          <div class="w-1/2">
            <h5><%= item[0] %></h5>
          </div>
          <div class="w-1/2">
            <h5 class="text-blue-500"><%= item[1] %></h5>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
